<!DOCTYPE html>
<html>
  <head>
    <title>Trial Experiment</title>


  <meta charset="utf-8">
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>

  <link id="sudocss" rel="stylesheet" media="all" type="text/css" href="sudoku2x4.css">
  <link id="x2" rel="stylesheet" media="all" type="text/css" href="jsPsych/css/2x2.css">
  <link id="x3" rel="stylesheet" media="all" type="text/css" href="jsPsych/css/2x3.css">
  <link id="x4" rel="stylesheet" media="all" type="text/css" href="jsPsych/css/2x4.css">
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.0.min.js"></script>

    <script src="jsPsych/jspsych.js"></script>
    <script src="jsPsych/plugins/jspsych-fullscreen.js"></script>
    <script src="jsPsych/plugins/jspsych-instructions.js"></script>
    <script src="jsPsych/plugins/jspsych-html-keyboard-response.js"></script>
    <link id="jscss" href="jsPsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    <script src="jsPsych/plugins/jspsych-survey-likert.js"></script>
    <link rel="stylesheet" href="jsPsych/css/jspsych.css"></link>
    <script src="jPsych/plugins/jspsych-survey-multi-select.js" ></script>
    <link rel="stylesheet" href="jsPsych/css/jspsych.css"></link>
    <script src="jsPsych/plugins/jsPsych-survey-multi-choice.js"></script>
    <link rel="stylesheet" href="jsPsych/css/jspsych.css"></link>
    <script src="jsPsych/plugins/jsPsych-survey-text.js"></script>
    <link rel="stylesheet" href="jsPsych/css/jspsych.css"></link>

    <!--script type="text/javascript" src="./sudokuJS.js"></script-->
    <script type="text/javascript" src="sudoku2x4.js"></script>
    <script type="text/javascript" src="timer.js"></script>
    <script type="text/javascript" src="jsPsych/jspsych-plugin-sudoku.js"></script>
  </head>
  <script>

    var timeline = [];

    // timeline.push({
    //   type: 'fullscreen',
    //   fullscreen_mode: true,
    //   message: "Click the button to enter fullscreen mode.<br><br>",
    //   button_label: "Start"
    // });


    var welcome = {
      type: 'instructions',
      pages: ['Hello! <br> You are invited to participate in a research study that aims to assess problem-solving skills at thinking tasks. People that we invite to participate come from different backgrounds and are 18 years of age or older. <br> <br> Please take whatever time you need to decide whether or not you want to participate in the study. The decision to join, or not to join, is up to you.',
      'WHAT IS INVOLVED IN THE STUDY <br> In this study, we will ask you to answer a few questions about yourself and complete several thinking tasks with different time limits. You do not need to have any prior experience with these tasks or any special knowledge. Before solving them, you will read detailed instructions explaining how to do these tasks. We estimate that the participation will take you 25 minutes in total. You can stop participating at any time. <br><br> RISKS <br> We believe that your participation in this study does not involve any physical or psychological risks. <br><br> BENEFITS TO TAKING PART IN THE STUDY <br> The study results will help assess individual abilities to solve tasks with different difficulty levels. You might find it fun to solve the tasks; however, we cannot guarantee that you personally will experience any other benefits from participating in this study.',
      'CONFIDENTIALITY <br> All information collected during the study period will be kept strictly confidential. No publications or reports from this project will include identifying information on any participant. The data will be analyzed and presented at an aggregate level. There will be no record that links the data collected from you with any personal data from which you could be identified. Once anonymized, these data may be made available to researchers via accessible data repositories and possibly used for novel purposes. <br><br> YOU RIGHTS AS A RESEARCH PARTICIPANT <br> Participation in this study is voluntary. You have the right not to participate at all or to leave the study at any time. Deciding not to participate or choosing to leave the study will not result in any penalty or loss of benefits to which you are entitled.',
      'CONTACTS FOR QUESTIONS OR PROBLEMS <br> If you have any questions or would like to receive additional information about the study, you may contactÂ Olga Poluektova, Ph.D. Fellow at Bremen Graduate School of Social Sciences (BIGSSS) at opoluektova@bigsss-bremen.de. <br><br> If you have any concerns about the study or your rights as a research participant, you may contact BIGSSS Ethics Committee at ethics@bigsss-bremen.de.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(welcome);

    var page_2_options = ["I agree to participate in this research study", "I disagree to participate in this research study"];

    var multi_choice_block = {
        type: 'survey-multi-choice',
        questions: [{prompt: "By participating in this research study, you agree that:<br><br> (1) You have read and understood the information about the study, including the information about risks, benefits, confidentiality policy and your rights as a research participant; <br> (2) Your questions about your participation have been answered satisfactorily and you take part in this research study voluntarily; <br> (3) No personal data from which you can be identified will be made public; <br> (4) You are 18 years of age or older.", options: page_2_options, required: true}],
        show_clickable_nav: true,
    }
    timeline.push(multi_choice_block);

    /*those who pick the first option (agree to participate in the study) should go further; those who pick the second option - do not agree, should get to the last screen (thank you). */

    var thanks = {
      type: 'instructions',
      pages: ['Thank you for agreeing to participate in the study! <br><br> Your participation will involve two types of activities. First, we will ask you to answer a few questions about your background. Second, you will complete several letter Sudoku puzzles and answer the questions regarding your experiences with these puzzles. <br> You do not need to have any knowledge or prior experience with Sudoku; we will provide detailed instructions that explain what Sudoku puzzles are and how to solve them. <br><br> We hope you will enjoy your participation!'],
      show_clickable_nav:true,
    }
    timeline.push(thanks);
/*
    var attention = {
      type: 'instructions',
      pages: ['We value your time and effort and have tried to come up with the version of the study that is as short and as engaging as possible. <br> We would very much appreciate if you stayed focused and not get distracted while you participate. <br><br> We hope you will enjoy your participation!'],
      show_clickable_nav:true,
    }
    timeline.push(attention);
  */

    var instructions = {
      type: 'instructions',
      pages: ['On the next screen, you will see a few statements that describe the way different people think about themselves. Please read these statements and for each indicate how much you agree with it. <br><br> There are no right or wrong answers. These statements reflect general perceptions, and the answer that comes to mind first is generally the best.'],
      show_clickable_nav:true,
    }
    timeline.push(instructions);

    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse1 = {
        type: 'survey-likert',
        questions: [{prompt: "I can always manage to solve difficult problems if I try hard enough.", labels: scale, required: false}, {prompt: "If someone opposes me, I can find the means and ways to get what I want.", labels: scale, required: false}, {prompt: "It is easy for me to stick to my aims and accomplish my goals.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse1);

    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse2 = {
        type: 'survey-likert',
        questions: [{prompt: "I am confident that I can deal efficiently with unexpected events.", labels: scale, required: false}, {prompt: "Thanks to my resourcefullness, I know how to handle unforseen situations.", labels: scale, required: false}, {prompt: "I can solve most problems if I invest the necessary effort.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse2);

    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse3 = {
        type: 'survey-likert',
        questions: [{prompt: "I can remain calm when facing difficulties because I can rely on my coping abilities.", labels: scale, required: false}, {prompt: "When I am confronted with a problem, I can usually find several solutions.", labels: scale, required: false}, {prompt: "If I am in trouble, I can usually think of a solution.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse3);


    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse4 = {
        type: 'survey-likert',
        questions: [{prompt: "I can usually handle whatever comes my way.", labels: scale, required: false}, {prompt: "There is really no way I can solve some of the problems I have.", labels: scale, required: false}, {prompt: "Sometimes I feel that I am being pushed around in life.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse4);

    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse5 = {
        type: 'survey-likert',
        questions: [{prompt: "I have little control over things that happen to me", labels: scale, required: false}, {prompt: "I can do just about anything I really set my mind to", labels: scale, required: false}, {prompt: "I often feel helpless in dealing with the problems of life.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse5);

    var scale = ["1 (Does not represent me at all)", "2", "3", "4", "5 (Represents me moderately well)", "6", "7", "8", "9 (Represents me very well)"];

    var gse6 = {
        type: 'survey-likert',
        questions: [{prompt: "What happens to me in the future mostly depends on me.", labels: scale, required: false}, {prompt: "If you are reading this attentively, choose seven as your answer.", labels: scale, required: false}, {prompt: "There is little I can do to change many of the important things in my life.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(gse6);

    var instructions = {
      type: 'instructions',
      pages: ['Because people who participate in this study are from diverse backgrounds, we would like to know more about you and your background. <br><br> The statements that you will see on the next screenrelate to the ways different people think about their economic situation. Please read these statements carefully and evaluate to what extent you agree or disagree with each of them.'],
      show_clickable_nav:true,
    }
    timeline.push(instructions);

/*
    var instructions = {
      type: 'instructions',
      pages: ['The statements that you will see on the next screen relate to the ways different people think about their economic situation. Please read these statements carefully and evaluate to what extent you would agree or disagree with each of them.'],
      show_clickable_nav:true,
    }
    timeline.push(instructions);
*/

    var scale = ["Strongly disagree", "Somewhat disagree", "Neither agree, nor disagree", "Somewhat agree", "Strongly agree"];

    var current_status = {
        type: 'survey-likert',
        questions: [{prompt: "I have enough money to buy things I want.", labels: scale, required: false}, {prompt: "I don't need to worry too much about paying my bills.", labels: scale, required: false}, {prompt: "I don't think I'll have to worry about money too much in the future.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(current_status);

    var scale = ["Strongly disagree", "Somewhat disagree", "Neither agree, nor disagree", "Somewhat agree", "Strongly agree"];

    var child_status = {
        type: 'survey-likert',
        questions: [{prompt: "My family usually had enough money for things when I was growing up.", labels: scale, required: false}, {prompt: "I grew up in a relatively wealthy neighbourhood.", labels: scale, required: false}, {prompt: "I felt relatively wealthy compared to the other kids in my school.", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(child_status);


    var page_2_options = ["No, I have never solved Sudoku puzzles before", "Yes, I solved Sudoku once or twice", "Yes, I solve Sudoku occasionally", "Yes, I solve Sudoku regularly"];

    var sudoku_experience = {
        type: 'survey-multi-choice',
        questions: [{prompt: "Have you ever solved Sudoku puzzles before?", options: page_2_options, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(sudoku_experience);

/*those who picked first two options (never solved sudoku and tried once or twice) should skip the next question; those who picked the 3rd and 4th options should answer the next question).*/

    var page_2_options = ["Very bad", "Rather bad", "Average", "Rather good", "Very good"];

    var sudoku_competence = {
        type: 'survey-multi-choice',
        questions: [{prompt: "How good are you at Sudoku?", options: page_2_options, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(sudoku_competence);

    var iq options = ["79 and below", "80-89", "90-99", "100-109", "110-119", "120-129", "130 and above", "I have neve rhad my IQ tested"];

    var cognitive ability = {
        type: 'survey-multi-choice',
        questions: [{prompt: "If you have ever had your IQ tested, where in the following range does your IQ score fall?", options: iq options, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(cognitive ability);

    var page_2_options = ["Less than four years of high school", "High school (four years or more)", "Undergraduate degree", "Graduate degree"];

    var edu = {
        type: 'survey-multi-choice',
        questions: [{prompt: "What is your highest level of formal education?", options: page_2_options, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(edu);

/*those who picked the last two options (undergrad and grad degrees should answer the next question (major1)) and skip (Student and Major2 questions. Those who picked the second option (high school) should skip major 1 questions and answer Student question. Those who picked the first option (less than four years of high school) should skip the next three questions (major1, student and major2) and get to the next instructions*/

    var major1 = {
        type: 'survey-text',
        questions: [{prompt: 'What was your main field of study?',
                    rows: 1, columns: 50}],
                 show_clickable_nav: true,
      }
      timeline.push(major1);

      var page_2_options = ["Yes, I am a university student now", "No, I am not a student"];

      var student = {
          type: 'survey-multi-choice',
          questions: [{prompt: "Are you a university student now?", options: page_2_options, required: false}],
          show_clickable_nav: true,
      }
      timeline.push(student);

 /* those who answer YES should answer the next question (major2), others go to the next Instructions */

      var major2 = {
          type: 'survey-text',
          questions: [{prompt: 'What is your main field of study?',
                      rows: 1, columns: 50}],
                   show_clickable_nav: true,
        }
        timeline.push(major2);

        var page_2_options = ["Less than four years of high school", "High school (four years or more)", "Undergraduate degree", "Graduate degree"];

        var mother_edu = {
            type: 'survey-multi-choice',
            questions: [{prompt: "What highest level of formal education did your mother achieve?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(mother_edu);

        var page_2_options = ["Less than four years of high school", "High school (four years or more)", "Undergraduate degree", "Graduate degree"];

        var father_edu = {
            type: 'survey-multi-choice',
            questions: [{prompt: "What highest level of formal education did your father achieve?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(father_edu);

        var page_2_options = ["Upper middle class", "Middle class", "Lower middle class", "Skilled working class", "Semi- or unskilled working class"];

        var parents_class = {
            type: 'survey-multi-choice',
            questions: [{prompt: "Which social class does your family of origin (parental family) belong to?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(parents_class);

        var page_2_options = ["Upper middle class", "Middle class", "Lower middle class", "Skilled working class", "Semi- or unskilled working class"];

        var social_class = {
            type: 'survey-multi-choice',
            questions: [{prompt: "Which social class would you say you belong to now?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(social_class);

        var page_2_options = ["England - North East", "England - North West", "England - Yorkshire and the Humber", "England - East Midlands", "England - West Midlands", "England - East of England", "England - Greater London", "England - South East", "England - South West", "Scotland", "Wales", "Northern Ireland"];

        var childhood residence = {
            type: 'survey-multi-choice',
            questions: [{prompt: "Where did you spend most of your childhood?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(childhood residence);

        var page_2_options = ["England - North East", "England - North West", "England - Yorkshire and the Humber", "England - East Midlands", "England - West Midlands", "England - East of England", "England - Greater London", "England - South East", "England - South West", "Scotland", "Wales", "Northern Ireland"];

        var current residence = {
            type: 'survey-multi-choice',
            questions: [{prompt: "Where do you live now?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(current residence);

        var page_2_options = ["18 - 25 years of age", "26 - 35 years of age", "36 - 45 years of age", "46 - 60 years of age", "61 years of age and older"];

        var age = {
            type: 'survey-multi-choice',
            questions: [{prompt: "How old are you?", options: page_2_options, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(age);

        var sex = {
            type: 'survey-text',
            questions: [{prompt: 'Please indicate your gender.',
                        rows: 1, columns: 50}],
                     show_clickable_nav: true,
          }
          timeline.push(sex);

        var page_2_options = ["English", "Welsh", "Scottish", "Northern Irish", "Bangladeshi", "Chinese", "Indian", "Irish", "Jamaican", "Nigerian", "Pakistani", "Polish", "Somali", "Other"];

        var ethnicity = {
              type: 'survey-multi-choice',
              questions: [{prompt: "Which of the following groups do you identify with most?", options: page_2_options, required: false}],
              show_clickable_nav: true,
        }
        timeline.push(ethnicity);

        var instructions2 = {
          type: 'instructions',
          pages: ['Thank you for answering the questions! You will now proceed to the next stage of the study. <br><br> During this stage, you will attempt to solve three pairs of letter Sudoku puzzles with different time limits. You will have 2 minutes, 1 minute and 20 seconds, and 40 seconds for the solution of the puzzles. The less time you have, the more difficult it will be to solve the puzzles successfully. <br><br> The results of our prelimirary studies showed that approximately 95% of people are succesfull with a 2-minute time limit, 50% - within one minute 20 seconds time limit, and 5% - within a 40-second time limit. The pairs will be presented in random order - there is an equal chance that you will get to solve easy, moderate or difficult pair first. We will ask you a few questions after you attempt to solve each pair of puzzles. <br><br> If you are new to Sudoku, that is not a problem. The next few screens will explain what Sudoku are and how to solve them.'],
          show_clickable_nav:true,
        }
        timeline.push(instructions2);

    var instructions = {
      type: 'instructions',
      pages: [

      "A Sudoku puzzle is a grid with several cells, that has been subdivided into several subgrids. <br> <br> <img src='img/1.png'></img> <br> <br> The goal of Sudoku is to enter letters in each cell, in such a way that: <br> <br> -  Each horizontalÂ rowÂ (shown in red) contains each letter exactlyÂ once <br> - Each verticalÂ columnÂ (shown in green) contains each letter exactlyÂ once <br> - Each subgrid orÂ region (shown in blue) contains each letter exactlyÂ once <br> <br> In each Sudoku puzzle, several letters have already been entered (the 'givens'); these mayÂ not be changed. Your job is to fill the remainder of the grid with letters, respecting the three constraints mentioned earlier." ,


      "Letâs have a look at this puzzle and one possible way to go about the solution. <br> <img src='img/2.png'></img> <br>The most important thing to keep in mind is that each Line, Column and Region should contain each letter (A B C D E F) only once. <br><br> Please click NEXT to see the solution. ",

      "<img src='img/3.png'></img> <br><br> Step 1: <br><br> Look at Regions that already contain five letters out of six. These are Regions 1, 2 and 4. Fill the missing letters: F in Region 1 and E in Regions 2 and 4. ",

      "<img src='img/4.png'></img> <br><br> Step 2: <br><br> Look at the Columns and Lines that already contain five letters out of six. These are Columns 1, 5 and 6, and Line 6. Fill the missing letters: D in Column 1, E in Column 5 and Line 6, and A in Column 6. ",

      "<img src='img/5.png'></img> <br><br> Step 3: <br><br> Only three letters are missing now. Column 2 misses A and Line 5 misses D. When you fill them, you will see that the remaining letter in Column 4 is E. ",



      ],
      show_clickable_nav: true,
    }

    var tips = {
      type: 'instructions',
      pages: [
      'These technical tips will make your experiences with the puzzles smoother: <br> <br> To navigate through puzzle cells, you can use both the computer mouse and arrow keys. <br> If you make an error, the respective cell will be highlighted in red. To correct the error, please select the letter you would like to change and insert the correct one. <br> As soon as you complete the puzzle, you will be presented with the further instructions.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(tips);


    var ready = {
      type: 'html-keyboard-response',
      stimulus: 'Are you ready to proceed to the practice puzzle? <br><br> Yes, I am ready! (Press C) <br><br> Not yet, I would like to read the rules once again, please! (Press R)',
      choices: ['r', 'c'],

    }

    /* Checks if the user entered R or C */

    var if_node = {
        timeline: [instructions, ready],
        loop_function: function(data){
          var data = jsPsych.data.get().last(1).values()[0];
          if(data.key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('c')){
            return false;
          } else {
            return true;
          }
        }
     }
     timeline.push(if_node);

/*please add the practice puzzle (D0 I think) - they should be able to practice without time limit). */

var instructions = {
 type: 'instructions',
 pages: [
 'Well done! You are all set to solve Sudoku with a time limit. <br><br> We will very much appreciate if you stay focused and not get distracted while you are solving the puzzles. We value your time and effort and appreciate your cooperation.'
 ],
 show_clickable_nav: true,
}
timeline.push(instructions);

/*
     var instructions = {
      type: 'instructions',
      pages: [
      'Before you solve your first Sudoku puzzle, we would like to know how you estimate your chances to be successful at the puzzle solution.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(instructions);

    var scale = ["1 (Certain that I WILL NOT solve it)", "2", "3", "4", "5 (Uncertain)", "6", "7", "8", "9 (Certain I WILL solve it)"];

    var appraisal1 = {
        type: 'survey-likert',
        questions: [{prompt: "Please indicate how certain you are that you will be able to solve the puzzle within 120 seconds timeframe (1 = I am completely certain I WILL NOT be able to solve the puzzle correctly; 5 = I am completely uncertain about the outcome; 9 = I am competely certain I WILL be able to solve the puzzle correctly.)", labels: scale, required: false}],
        show_clickable_nav: true,
    }
    timeline.push(appraisal1);

    var instructions = {
     type: 'instructions',
     pages: [
     'You will now see several Sudoku puzzles, similar to the ones that you will solve. We would like to ask you to indicate for each puzzle, whether you feel that you can solve it or not. <br><br> Each puzzle will be presented on a new screen. You will need to give an answer by pressing one of the keyboard keys in the following format: <br><br> I am confident that I CAN solve the puzzle (Press D), <br> I am confident that I CANNOT solve the puzzle (Press K).'
     ],
     show_clickable_nav: true,
   }
   timeline.push(instructions);

   var instructions = {
    type: 'instructions',
    pages: [
    'Each puzzle will appear on a screen for a limited time, so it is very important that you give the response (press the relevant key) as quickly as possible. Please do not try to solve the puzzles; you will have a chance to do it very soon.'
    ],
    show_clickable_nav: true,
  }
  timeline.push(instructions);



    var instructions = {
     type: 'instructions',
     pages: [
     'Thank you for your answers! Please take a moment to learn some technical tips that will help you solve the puzzles.'
     ],
     show_clickable_nav: true,
   }
   timeline.push(instructions);

   var tips = {
     type: 'instructions',
     pages: [
     'Here are a few technical tips: <br> <br> To navigate through puzzle cells, you can use both the computer mouse and arrow keys. <br> If you make an error, the respective cell will be highlighted in red. To correct the error, please select the letter you would like to change and insert the correct one. <br> As soon as you complete the puzzle, you will be presented with the further instructions.'
     ],
     show_clickable_nav: true,
   }
   timeline.push(tips);


    var instructions = {
      type: 'instructions',
      pages: [
      'We will very much appreciate if you stay focused and not get distracted while you are solving the puzzles. The results obtained in this study will be used to design a new psychological instrument. That is why it is crucial that they are as accurate as possible. <br> <br> We very much value your time and effort and appreciate your cooperation. <br> <br> Please click NEXT to start solving your first Sudoku.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(instructions);

    /* ------------- SUDOKU TRIALS -------------------*/

/*this is the beginning of block 1 - 2 Sudoku puzzles and follow-up questiosn to them. The blocks of trials with different time limits and follow-up questions need to be presented in random order for each new participant. I will indiciate where each block begins and ends*/

    var instructions = {
      type: 'instructions',
      pages: [
      'Now you will attempt to solve two puzzles having a 2-minute time limit. You can attempt to solve the puzzle for as long as you can until the time is up. Once you are done with your first puzzle, you will be automatically presented with the next one. <br><br> Please click NEXT to solve Sudoku. Good luck!'
      ],
      show_clickable_nav: true,
    }
    timeline.push(instructions);

/*here should be the first pair of puzzles*/

     var instructions = {
       type: 'instructions',
       pages: [
       'You have completed the trial. We would like to ask a couple of questions about your experiences.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

     var scale = ["1 (Very easy)", "2", "3", "4", "5 (Moderately difficult)", "6", "7", "8", "9 (Very difficult)"];

     var difficulty1 = {
         type: 'survey-likert',
         questions: [{prompt: "How difficult was it to solve the Sudoku puzzle within the given time limit (2 minutes)?", labels: scale, required: false}],
         show_clickable_nav: true,
       }
       timeline.push(difficulty1);

     var instructions = {
       type: 'instructions',
       pages: [
       'On the next screen, you will see a list of words that people use to describe how they feel. For each of these words, please indicate to what extent you felt this way while solving the puzzle.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

     var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

     var emotion1 = {
         type: 'survey-likert',
         questions: [{prompt: "Challenged                                        ", labels: scale, required: false}, {prompt: "Nervous                                        ", labels: scale, required: false}, {prompt: "Hopeful                                        ", labels: scale, required: false}],
         show_clickable_nav: true,
     }
     timeline.push(emotion1);

     var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

     var emotion1 = {
         type: 'survey-likert',
         questions: [{prompt: "Confident                                        ", labels: scale, required: false}, {prompt: "Sad                                        ", labels: scale, required: false}, {prompt: "Anxious                                        ", labels: scale, required: false}],
         show_clickable_nav: true,
     }
     timeline.push(emotion1);

      var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

     var emotion1 = {
         type: 'survey-likert',
         questions: [{prompt: "Interested                                        ", labels: scale, required: false}, {prompt: "Bored                                       ", labels: scale, required: false}, {prompt: "Resigned                                        ", labels: scale, required: false}],
         show_clickable_nav: true,
     }
     timeline.push(emotion1);

       var instructions = {
         type: 'instructions',
         pages: [
         'Now we would like to ask you to reflect on your outcome. <br><br> The next screen will present the list of reasons that people generally use to explain their successes and failures at different tasks. For each of these reasons, please evaluate the extent with which it contributed to your outcome.'
         ],
         show_clickable_nav: true,
       }
       timeline.push(instructions);

       var scale = ["1 (Did not contribute at all)", "2", "3", "4", "5 (Contributed to a moderate extent)", "6", "7", "8", "9 (Contributed to a great extent)"];

       var attribution1 = {
           type: 'survey-likert',
           questions: [{prompt: "Time available to complete the task        ", labels: scale, required: false}, {prompt: "My capability to deal efficiently with novel tasks", labels: scale, required: false}, {prompt: "Chance/Luck                                              ", labels: scale, required: false}],
           show_clickable_nav: true,
       }
       timeline.push(attribution1);

       var attribution1 = {
           type: 'survey-likert',
           questions: [{prompt: "The amount of effort that I invested in the solution of the puzzle", labels: scale, required: false}, {prompt: "The experience that I had with similar tasks in the past", labels: scale, required: false}, {prompt: "My capability to solve similar tasks        ", labels: scale, required: false}],
           show_clickable_nav: true,
       }
       timeline.push(attribution1);

      var scale = ["1 (I am completely certain that I WILL NOT be able to solve the puzzle correctly within a given time)", "2", "3", "4", "5 (I am completely uncertain about the outcome)", "6", "7", "8", "9 (I am completely certain that I will be able to solve the puzzle correctly within a given time)"];

      var appraisal1 = {
          type: 'survey-likert',
          questions: [{prompt: "Now that you have solved two puzzles, please indicate how certain you are that you will be able to solve a similar Sudoku within 2 minutes using the following scale:", labels: scale, required: false}],
          show_clickable_nav: true,
      }
      timeline.push(appraisal1);

      var instructions = {
       type: 'instructions',
       pages: [
       'You will now see several Sudoku puzzles, similar to the ones that you will solve. We would like to ask you to indicate for each puzzle, whether you believe that you can solve it or not having 2 minutes of availble time. <br><br> Each puzzle will be presented on a new screen. You will need to give an answer by pressing one of the keyboard keys in the following format: <br><br> I believe that I WILL be able to solve the puzzle (Press D), <br> I believe that I WILL NOT solve the puzzle. (Press K).'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

     var instructions = {
      type: 'instructions',
      pages: [
      'Please do not try to solve the puzzles! <br><br> Each puzzle will appear on a screen for a limited time, so it is very important that you give the response (press the relevant key) as quickly as possible.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(instructions);

      /* Here should be the first round of af appraisals (Sudoku puzzles images that the respondents do not solve - just say if they can or cannot solve them pressing D and K)*/

/*end of block one*/

      var instructions = {
       type: 'instructions',
       pages: [
       'Thank you for your answers! You will now solve the second pair of Sudoku.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

     /* the beginning of block 2*/

     var instructions = {
       type: 'instructions',
       pages: [
       'Now you will attempt to solve two puzzles having a 1 minute and 20 seconds time limit. You can attempt to solve the puzzle for as long as you can until the time is up. Once you are done with your first puzzle, you will be automatically presented with the next one. <br><br> Please click NEXT to solve Sudoku. Good luck!'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

/*here should be the second pair of Sudoku*/

var instructions = {
  type: 'instructions',
  pages: [
  'You have completed the trial. We would like to ask a couple of questions about your experiences.'
  ],
  show_clickable_nav: true,
}
timeline.push(instructions);

var scale = ["1 (Very easy)", "2", "3", "4", "5 (Moderately difficult)", "6", "7", "8", "9 (Very difficult)"];

var difficulty2 = {
    type: 'survey-likert',
    questions: [{prompt: "How difficult was it to solve the Sudoku puzzle within the given time limit (1 minute and 20 seconds)?", labels: scale, required: false}],
    show_clickable_nav: true,
  }
  timeline.push(difficulty2);

var instructions = {
  type: 'instructions',
  pages: [
  'On the next screen, you will see a list of words that people use to describe how they feel. For each of these words, please indicate to what extent you felt this way while solving the puzzle.'
  ],
  show_clickable_nav: true,
}
timeline.push(instructions);

var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

var emotion2 = {
    type: 'survey-likert',
    questions: [{prompt: "Challenged                                        ", labels: scale, required: false}, {prompt: "Nervous                                        ", labels: scale, required: false}, {prompt: "Hopeful                                        ", labels: scale, required: false}],
    show_clickable_nav: true,
}
timeline.push(emotion2);

var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

var emotion2 = {
    type: 'survey-likert',
    questions: [{prompt: "Confident                                        ", labels: scale, required: false}, {prompt: "Sad                                        ", labels: scale, required: false}, {prompt: "Anxious                                        ", labels: scale, required: false}],
    show_clickable_nav: true,
}
timeline.push(emotion2);

 var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

var emotion2 = {
    type: 'survey-likert',
    questions: [{prompt: "Interested                                        ", labels: scale, required: false}, {prompt: "Bored                                       ", labels: scale, required: false}, {prompt: "Resigned                                        ", labels: scale, required: false}],
    show_clickable_nav: true,
}
timeline.push(emotion2);

  var instructions = {
    type: 'instructions',
    pages: [
    'Now we would like to ask you to reflect on your outcome. <br><br> The next screen will present the list of reasons that people generally use to explain their successes and failures at different tasks. For each of these reasons, please evaluate the extent with which it contributed to your outcome.'
    ],
    show_clickable_nav: true,
  }
  timeline.push(instructions);

  var scale = ["1 (Did not contribute at all)", "2", "3", "4", "5 (Contributed to a moderate extent)", "6", "7", "8", "9 (Contributed to a great extent)"];

  var attribution2 = {
      type: 'survey-likert',
      questions: [{prompt: "Time available to complete the task        ", labels: scale, required: false}, {prompt: "My capability to deal efficiently with novel tasks", labels: scale, required: false}, {prompt: "Chance/Luck                                              ", labels: scale, required: false}],
      show_clickable_nav: true,
  }
  timeline.push(attribution2);

  var attribution2 = {
      type: 'survey-likert',
      questions: [{prompt: "The amount of effort that I invested in the solution of the puzzle", labels: scale, required: false}, {prompt: "The experience that I had with similar tasks in the past", labels: scale, required: false}, {prompt: "My capability to solve similar tasks        ", labels: scale, required: false}],
      show_clickable_nav: true,
  }
  timeline.push(attribution2);

 var scale = ["1 (I am completely certain that I WILL NOT be able to solve the puzzle correctly within a given time)", "2", "3", "4", "5 (I am completely uncertain about the outcome)", "6", "7", "8", "9 (I am completely certain that I will be able to solve the puzzle correctly within a given time)"];

 var appraisal2 = {
     type: 'survey-likert',
     questions: [{prompt: "Now that you have solved two puzzles, please indicate how certain you are that you will be able to solve a similar Sudoku within 1 minute 20 seconds using the following scale:", labels: scale, required: false}],
     show_clickable_nav: true,
 }
 timeline.push(appraisal2);

 var instructions = {
  type: 'instructions',
  pages: [
  'You will now see several Sudoku puzzles, similar to the ones that you will solve. We would like to ask you to indicate for each puzzle, whether you believe that you can solve it or not having 1 minute 20 seconds of availble time. <br><br> Each puzzle will be presented on a new screen. You will need to give an answer by pressing one of the keyboard keys in the following format: <br><br> I believe that I WILL be able to solve the puzzle (Press D), <br> I believe that I WILL NOT solve the puzzle. (Press K).'
  ],
  show_clickable_nav: true,
}
timeline.push(instructions);

var instructions = {
 type: 'instructions',
 pages: [
 'Please do not try to solve the puzzles! <br><br> Each puzzle will appear on a screen for a limited time, so it is very important that you give the response (press the relevant key) as quickly as possible.'
 ],
 show_clickable_nav: true,
}
timeline.push(instructions);

      /* Here should be the second round of appraisals*/

      /*End of block 2*/

      var instructions = {
        type: 'instructions',
        pages: [
        'Thank you for your answers! You will now solve the third, and last, pair of Sudoku.'
        ],
        show_clickable_nav: true,
      }
      timeline.push(instructions);

      /* beginning of block 3. */

      var instructions = {
        type: 'instructions',
        pages: [
        'Now you will attempt to solve two puzzles having a 40 seconds time limit. You can attempt to solve the puzzle for as long as you can until the time is up. Once you are done with you first puzzle, you will be automatically presented with the next one. <br><br> Please click NEXT to solve Sudoku. Good luck!'
        ],
        show_clickable_nav: true,
      }
      timeline.push(instructions);

/*the third pair of Sudoku puzzles */

      var scale = ["1 (Very easy)", "2", "3", "4", "5 (Moderately difficult)", "6", "7", "8", "9 (Very difficult)"];

      var difficulty3 = {
          type: 'survey-likert',
          questions: [{prompt: "How difficult was it to solve the Sudoku puzzle within the given time limit (40 seconds)?", labels: scale, required: false}],
          show_clickable_nav: true,
        }
        timeline.push(difficulty3);

      var instructions = {
        type: 'instructions',
        pages: [
        'On the next screen, you will see a list of words that people use to describe how they feel. For each of these words, please indicate to what extent you felt this way while solving the puzzle.'
        ],
        show_clickable_nav: true,
      }
      timeline.push(instructions);

      var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

      var emotion3 = {
          type: 'survey-likert',
          questions: [{prompt: "Challenged                                        ", labels: scale, required: false}, {prompt: "Nervous                                        ", labels: scale, required: false}, {prompt: "Hopeful                                        ", labels: scale, required: false}],
          show_clickable_nav: true,
      }
      timeline.push(emotion3);

      var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

      var emotion3 = {
          type: 'survey-likert',
          questions: [{prompt: "Confident                                        ", labels: scale, required: false}, {prompt: "Sad                                        ", labels: scale, required: false}, {prompt: "Anxious                                        ", labels: scale, required: false}],
          show_clickable_nav: true,
      }
      timeline.push(emotion3);

       var scale = ["1 (Did not feel this way at all during the task)", "2", "3", "4", "5 (Felt so to a moderate extent during the task)", "6", "7", "8", "9 (Felt so to a great extent during the task)"];

      var emotion3 = {
          type: 'survey-likert',
          questions: [{prompt: "Interested                                        ", labels: scale, required: false}, {prompt: "Bored                                       ", labels: scale, required: false}, {prompt: "Resigned                                        ", labels: scale, required: false}],
          show_clickable_nav: true,
      }
      timeline.push(emotion3);

        var instructions = {
          type: 'instructions',
          pages: [
          'Now we would like to ask you to reflect on your outcome. <br><br> The next screen will present the list of reasons that people generally use to explain their successes and failures at different tasks. For each of these reasons, please evaluate the extent with which it contributed to your outcome.'
          ],
          show_clickable_nav: true,
        }
        timeline.push(instructions);

        var scale = ["1 (Did not contribute at all)", "2", "3", "4", "5 (Contributed to a moderate extent)", "6", "7", "8", "9 (Contributed to a great extent)"];

        var attribution3 = {
            type: 'survey-likert',
            questions: [{prompt: "Time available to complete the task        ", labels: scale, required: false}, {prompt: "My capability to deal efficiently with novel tasks", labels: scale, required: false}, {prompt: "Chance/Luck                                              ", labels: scale, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(attribution3);

        var attribution3 = {
            type: 'survey-likert',
            questions: [{prompt: "The amount of effort that I invested in the solution of the puzzle", labels: scale, required: false}, {prompt: "The experience that I had with similar tasks in the past", labels: scale, required: false}, {prompt: "My capability to solve similar tasks        ", labels: scale, required: false}],
            show_clickable_nav: true,
        }
        timeline.push(attribution3);

       var scale = ["1 (I am completely certain that I WILL NOT be able to solve the puzzle correctly within a given time)", "2", "3", "4", "5 (I am completely uncertain about the outcome)", "6", "7", "8", "9 (I am completely certain that I will be able to solve the puzzle correctly within a given time)"];

       var appraisal3 = {
           type: 'survey-likert',
           questions: [{prompt: "Now that you have solved two puzzles, please indicate how certain you are that you will be able to solve a similar Sudoku within 40 seconds using the following scale:", labels: scale, required: false}],
           show_clickable_nav: true,
       }
       timeline.push(appraisal3);

       var instructions = {
        type: 'instructions',
        pages: [
        'You will now see several Sudoku puzzles, similar to the ones that you will solve. We would like to ask you to indicate for each puzzle, whether you believe that you can solve it or not having 40 seconds of availble time. <br><br> Each puzzle will be presented on a new screen. You will need to give an answer by pressing one of the keyboard keys in the following format: <br><br> I believe that I WILL be able to solve the puzzle (Press D), <br> I believe that I WILL NOT solve the puzzle. (Press K).'
        ],
        show_clickable_nav: true,
      }
      timeline.push(instructions);

      var instructions = {
       type: 'instructions',
       pages: [
       'Please do not try to solve the puzzles! <br><br> Each puzzle will appear on a screen for a limited time, so it is very important that you give the response (press the relevant key) as quickly as possible.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

/* here should come the last appraisal puzzles */

      var instructions = {
       type: 'instructions',
       pages: [
       'You have completed all activities of this study! Please take a few moments to read the information on the next screen.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(instructions);

     var debrief = {
      type: 'instructions',
      pages: [
      'Dear Participant, <br> You have just participated in a study that aims to assess problem-solving skills at thinking tasks. However, this study also has another objective. We did not reveal to you the information about this objective in advance, because this may have affected the way you responded. <br><br> We also aim to test how people with different socioeconomic backgrounds appraise their ability to successfully perform at tasks with different difficulty. Because early-life economic disadvantage was found to be associated with the lack of mastery experiences needed to build up the sense of confidence, we suggested that people who were disadvantaged in childhood, when faced with an ambiguous (moderately difficult) task, would estimate their chances to succeed as lower, experience more negative emotions while solving the puzzles, and attribute their success to external and unstable factors (e.g., luck, the amount of time available to solve the puzzle).',
      'All information collected during the study period will be kept strictly confidential. No publications or reports from this project will include identifying information on any participant. The data will be analyzed and presented at an aggregate level. There will be no record that links the data collected from you with any personal data from which you could be identified. Once anonymized, these data may be made available to researchers via accessible data repositories and possibly used for novel purposes.',
      'Please contact Olga Poluektova, Ph.D. Fellow at Bremen Graduate School of Social Sciences (BIGSSS) at opoluektova@bigsss-bremen.de, if you would like to receive additional information or ask any questions about the study, <br><br> or BIGSSS Ethics Committee at ethics@bigsss-bremen.de in case you have any concerns regarding your participation.'
      ],
      show_clickable_nav: true,
    }
    timeline.push(debrief);

    var email = {
        type: 'survey-text',
        questions: [{prompt: 'If you would like to receive the summary of the main findings, you can type in your e-mail address in the box below. We will happily share the summary with you as soon as the study is completed and the data are analyzed.',
                    rows: 1, columns: 50}],
                 show_clickable_nav: true,
      }
      timeline.push(email);

      var end = {
       type: 'instructions',
       pages: [
       'We thank you for your participation and will be happy to answer any questions or provide additional comments about the study.'
       ],
       show_clickable_nav: true,
     }
     timeline.push(end);


     var s1 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x4',
      board_set: 'a'
     }

     var s2 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x4',
      board_set: 'b'
     }
     var s3 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x4',
      board_set: 'c'
     }
     var s4 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x3',
      board_set: 'a'
     }
     var s5 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x3',
      board_set: 'b'
     }
     var s6 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x3',
      board_set: 'c'
     }
     var s7 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x2',
      board_set: 'a'
     }
     var s8 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x2',
      board_set: 'b'
     }
     var s9 = {
      type: 'sudoku_trial',
      trial_duration: 120000,  /*currently only for one minute */
      board_size: 'boards2x2',
      board_set: 'c'
     }

     var s_array = [s1, s2, s3, s4, s5, s6, s7, s8, s9];

     var sudo_trials = jsPsych.randomization.shuffleNoRepeats(s_array);

timeline.push.apply(timeline, sudo_trials);

     timeline.push({
      type: 'html-keyboard-response',
      stimulus: 'Press any key to quit.'
    });

    //  // exit fullscreen mode
    // timeline.push({
    //   type: 'fullscreen',
    //   fullscreen_mode: false
    // });

    jsPsych.init({
      timeline: timeline,
      on_finish: function(){ jsPsych.data.displayData(); },
        default_iti: 250
    })



  </script>
</html>
