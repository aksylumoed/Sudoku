<!DOCTYPE html>
<html>
	<head>
		<title>Trial Experiment</title>
        <script src="jsPsych/jspsych.js"></script>
        <script src="jsPsych/plugins/jspsych-instructions.js"></script>
        <script src="jsPsych/plugins/jspsych-html-keyboard-response.js"></script>
        <link href="jsPsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
	</head>
	<body>
	</body>
	<script>

		var timeline = []
		
		var welcome = {
			type: 'instructions',
			pages: [
			'Welcome to the experiment. Click next to begin.',
			'Instruction Set 1', 
			'Instruction Set 2',
			],
			show_clickable_nav: true
		}
		timeline.push(welcome);

		var ready = {
			type: 'html-keyboard-response',
			stimulus: 'Are you ready to do the trial? Press R if you want to repeat or C to continue.',
			choices: ['r', 'c']
		}
		timeline.push(ready);

		var if_node = {
		    timeline: [welcome, ready],
		    loop_function: function(data){
		      var data = jsPsych.data.get().last(1).values()[0];
		      if(data.key_press == jsPsych.pluginAPI.convertKeyCharacterToKeyCode('c')){
		        return false;
		      } else {
		        return true;
		      }
		    }
		 }
		 timeline.push(if_node);

		

		jsPsych.init({
			timeline: timeline,
			on_finish: function(){ jsPsych.data.displayData(); },
    		default_iti: 200
		})



	</script>
</html>
